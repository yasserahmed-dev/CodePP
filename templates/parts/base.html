<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Code++ | Home{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            padding-top: 90px;
        }

        h1, h2, h3, h4, h5, h6, .card-title { color: #ffffff !important; }
        .text-muted { color: #b0b0b0 !important; }

        .navbar { background-color: #1a1d20 !important; border-bottom: 1px solid #333; }
        .nav-link { font-weight: 600; color: #e0e0e0 !important; transition: all 0.3s; }
        .nav-link:hover, .nav-link.active { color: #ffc107 !important; transform: translateY(-2px); }

        .dropdown-menu { background-color: #2c2c2c; border-color: #444; }
        .dropdown-item { color: #eaeaea; }
        .dropdown-item:hover { background-color: #444; color: #ffc107; }

        .category-circle {
            width: 130px; height: 140px; border-radius: 15px;
            background: #1e1e1e; border: 1px solid #333;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            transition: all 0.3s ease; cursor: pointer; padding: 10px;
        }
        .category-circle img { width: 60px; height: 60px; margin-bottom: 10px; }
        .category-circle:hover { transform: translateY(-10px); background: #252525; border-color: #ffc107; }

        .course-card {
            background-color: #1e1e1e;
            border: 1px solid #333;
            border-radius: 12px;
            transition: transform 0.3s, box-shadow 0.3s;
            color: #fff;
        }
        .course-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.5); border-color: #444; }
        .course-card img { height: 180px; object-fit: cover; opacity: 0.9; }

        .footer { background-color: #0f0f0f; color: #ccc; border-top: 1px solid #333; }
        .btn-outline-primary { color: #6ea8fe; border-color: #6ea8fe; }
        .btn-outline-primary:hover { background-color: #6ea8fe; color: #000; }

        /* رسائل Django - تحسين السلاسة */
        #messages-container .alert {
            opacity: 0;
            transform: translateY(-20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        #messages-container .alert.show {
            opacity: 1;
            transform: translateY(0);
        }

        #messages-container .alert.hide {
            opacity: 0;
            transform: translateY(-20px);
        }
    </style>

    {% block styles %}{% endblock %}
</head>

<body>

<!-- رسائل Django عامة لجميع الصفحات -->
<div id="messages-container"
     class="position-fixed top-0 end-0 p-3"
     style="z-index: 1080; max-width: 350px;">
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} shadow-lg rounded-3 mb-2 d-flex align-items-center">
        {% if "success" in message.tags %}
          <i class="fa-solid fa-circle-check text-success me-2"></i>
        {% elif "error" in message.tags %}
          <i class="fa-solid fa-circle-xmark text-danger me-2"></i>
        {% elif "warning" in message.tags %}
          <i class="fa-solid fa-triangle-exclamation text-warning me-2"></i>
        {% else %}
          <i class="fa-solid fa-circle-info text-info me-2"></i>
        {% endif %}
        <span>{{ message }}</span>
      </div>
    {% endfor %}
  {% endif %}
</div>

{% include "parts/navbar.html" %}

{% block content %}{% endblock %}

{% include "parts/footer.html" %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // تحسين ظهور واختفاء الرسائل بسلاسة
  const alerts = document.querySelectorAll("#messages-container .alert");
  if(alerts?.length) {
    alerts.forEach(alert => {
      setTimeout(() => alert.classList.add("show"), 50); // ظهور تدريجي
      setTimeout(() => {
        alert.classList.remove("show");
        alert.classList.add("hide");
        setTimeout(() => alert.remove(), 600); // إزالة بعد انتهاء التحول
      }, 2500);
    });
  }
</script>

{% block scripts %}{% endblock %}
</body>
</html>
